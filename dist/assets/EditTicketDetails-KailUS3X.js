import{D as Q,w as X,R as o,r as e,j as t,A as tt,C as et,P as st,v as T,z as g,t as at,q as it}from"./index-odFMYlZr.js";import{E as nt}from"./EditPackageForm-itKzJwBq.js";import{R as ot}from"./Review-DoFnFW2g.js";import{C as rt}from"./CssBaseline-M8cyZCHq.js";import{S as ct,a as lt,b as dt}from"./DeleteForeverOutlined-ur7hsYTx.js";import"./CloudUploadOutlined-a6YApA3d.js";import"./TextField-KqW6Ko5o.js";import"./Select-tRT-Bd6P.js";import"./withStyles-UNuNTrS6.js";const C=["Package Details","Review Your Package"];function kt(){const R=Q(),b=X(),s=R.state,[i,f]=o.useState(0),[S,w]=e.useState([]),[j,L]=e.useState([]),[y,N]=e.useState([]),[v,U]=e.useState([]),[r,E]=e.useState(s.title),[c,A]=e.useState(s.description),[k,P]=e.useState(s.region),[l,z]=e.useState(s.address),[d,D]=e.useState(s.city),[m,I]=e.useState(s.state),[p,V]=e.useState(s.zip),[u,M]=e.useState(s.country),[x,Y]=e.useState(s.totalCount),[h,$]=e.useState(s.price),[q,F]=o.useState(""),[G,H]=e.useState([]),[K,W]=e.useState([]),B=()=>{S.length==0||r.length==0||c.length==0||l.length==0||d.length==0||m.length==0||p.length==0||u.length==0||x.length==0||h.length==0?F("Kindly Fill All The Fields !!! "):(j.map(a=>{H(n=>[...n,{image:a}])}),v.map(a=>{W(n=>[...n,{video:a}])}),F(""),f(i+1))},Z=()=>{const a={title:r,description:c,address:l,city:d,state:m,zip:p,country:u,images:G,videos:K,totalCount:x,region:k,price:h,active:!0},n=`https://backend.azeemtourism.com/api/tickets/update/${s._id}`;it.post(n,a).then(O=>{}).catch(O=>{})},_=()=>{f(i-1)};function J(a){switch(a){case 0:return t.jsx(nt,{title:r,setZip:V,zip:p,country:u,setCountry:M,desc:c,address:l,setState:I,setCity:D,state:m,city:d,setDesc:A,setTitle:E,setAddress:z,setVideoFileUrl:U,videoFileUrl:v,videoFileName:y,setVideoFileName:N,setImageFileName:w,imageFileName:S,setImageFileUrl:L,imageFileUrl:j,totalCount:x,setTotalCount:Y,price:h,setPrice:$,packageData:s,setRegion:P,region:k});case 1:return t.jsx(ot,{title:r,zip:p,country:u,desc:c,address:l,state:m,city:d,videoFileUrl:v,videoFileName:y,imageFileName:S,imageFileUrl:j,price:h,totalCount:x,region:k});default:throw new Error("Unknown step")}}return t.jsxs(o.Fragment,{children:[t.jsx(rt,{}),t.jsx(tt,{position:"absolute",color:"default",elevation:0,sx:{position:"relative",borderBottom:a=>`1px solid ${a.palette.divider}`}}),t.jsx(et,{component:"main",maxWidth:"lg",sx:{mb:4},children:t.jsxs(st,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[t.jsx(ct,{activeStep:i,sx:{pt:3,pb:5},children:C.map(a=>t.jsx(lt,{children:t.jsx(dt,{children:a})},a))}),i===C.length?t.jsxs(o.Fragment,{children:[t.jsx(T,{variant:"h5",gutterBottom:!0,children:"Your Ticket Has Been Updated"}),t.jsx(g,{variant:"contained",onClick:()=>b("/admin/managetickets"),sx:{mt:3,ml:1},children:"GoTo Manage Tickets"})]}):t.jsxs(o.Fragment,{children:[J(i),t.jsxs(at,{sx:{display:"flex",justifyContent:"flex-end"},children:[t.jsx(T,{style:{color:"red"},variant:"subtitle1",children:q}),i!==0&&t.jsx(g,{onClick:_,sx:{mt:3,ml:1},children:"Back"}),i===C.length-1?t.jsxs(g,{variant:"contained",onClick:()=>{Z(),B()},sx:{mt:3,ml:1},children:[" ","Edit Ticket"]}):t.jsxs(g,{variant:"contained",onClick:B,sx:{mt:3,ml:1},children:[" ","Next"]})]})]})]})})]})}export{kt as default};
