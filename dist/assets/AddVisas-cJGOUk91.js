import{j as e,R as f,I as N,z as A,M as _,r as a,A as O,C as Z,P as re,v as D,t as E,q as oe,w as le,T as $,x as de,y as ce,s as J}from"./index-odFMYlZr.js";import{d as ue,a as xe,D as he,M as me,A as pe,b as ge}from"./ExitToApp-_53kb0_y.js";import{d as je,c as ve,I as fe,S as be,a as Ce,b as Se}from"./DeleteForeverOutlined-ur7hsYTx.js";import{G as o,S as we,T as d}from"./TextField-KqW6Ko5o.js";import{S as ye}from"./Select-tRT-Bd6P.js";import{R as ke}from"./ReviewVisa-RV6DJD-5.js";import{C as K}from"./CssBaseline-M8cyZCHq.js";import{T as Ie,L as Te}from"./VisibilityOff-65Yzkfwp.js";import"./withStyles-UNuNTrS6.js";function Ne({title:t,setZip:l,zip:c,country:b,setCountry:u,desc:x,address:F,setState:B,setCity:C,state:L,city:h,setDesc:P,setTitle:m,setAddress:R,setImageFileName:p,imageFileName:S,setImageFileUrl:g,imageFileUrl:w,totalCount:j,setTotalCount:U,price:W,setPrice:z,setRegion:y,region:V}){const k=s=>{y(s.target.value)},M=()=>{window.cloudinary.createUploadWidget({cloudName:"dhhjr3vim",uploadPreset:"nnitbvl3"},(n,r)=>{console.log("rs",r),!n&&r&&r.event==="success"&&(console.log("ue"),p(I=>[...I,r.info.original_filename]),g(I=>[...I,r.info.url]))}).open()},v=(s,n)=>{p(S.filter(r=>r!==s)),g(w.filter(r=>r!==n))};return e.jsx(f.Fragment,{children:e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(e.Fragment,{children:e.jsx(o,{item:!0,xs:12,sm:12,children:e.jsx(we,{direction:"row",alignItems:"center",spacing:2,children:e.jsxs("label",{htmlFor:"icon-button-file",children:[e.jsx(N,{onClick:()=>{M()},color:"primary","aria-label":"upload picture",component:"span",children:e.jsx(A,{style:{width:"350px"},variant:"contained",sx:{p:1,bg:"#27272a"},endIcon:e.jsx(je,{}),children:"Upload Images"})}),S.map((s,n)=>S?e.jsxs("div",{className:"flex justify-between ",children:[e.jsx("a",{className:"text-black",target:"_blank",href:w[n],rel:"noreferrer",children:e.jsxs("p",{children:["Uploaded Images: ",s]})}),e.jsx("div",{style:{marginTop:"-8px"},children:e.jsx(N,{className:"text-rose-600",onClick:()=>{v(s,w[n])},children:e.jsx(ve,{style:{color:"red"}})})})]}):null)]})})})}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsx(d,{required:!0,multiline:!0,id:"title",name:"title",label:"Title",fullWidth:!0,autoComplete:"title",variant:"standard",value:t,onChange:s=>{m(s.target.value)}})}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsx(d,{required:!0,multiline:!0,id:"description",name:"description",label:"Description",fullWidth:!0,autoComplete:"description",variant:"standard",value:x,onChange:s=>{P(s.target.value)}})}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsx(d,{multiline:!0,id:"address",name:"address",label:"First Name",fullWidth:!0,autoComplete:"shipping address-line1",variant:"standard",value:F,onChange:s=>{R(s.target.value)}})}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsx(d,{multiline:!0,id:"city",name:"city",label:"Last Name",fullWidth:!0,autoComplete:"shipping address-level2",variant:"standard",value:h,onChange:s=>{C(s.target.value)}})}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsx(d,{required:!0,id:"state",multiline:!0,name:"state",label:"email",fullWidth:!0,variant:"standard",value:L,onChange:s=>{B(s.target.value)}})}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsx(d,{multiline:!0,id:"country",name:"country",label:"Phone Number",fullWidth:!0,autoComplete:"shipping country",variant:"standard",value:b,onChange:s=>{u(s.target.value)}})}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsx(d,{required:!0,multiline:!0,id:"price",name:"price",label:"Price",fullWidth:!0,autoComplete:"price",variant:"standard",value:W,onChange:s=>{z(s.target.value)}})}),e.jsxs(o,{item:!0,xs:12,sm:6,children:[e.jsx(fe,{id:"region-select-label",children:"Region"}),e.jsxs(ye,{value:V,onChange:k,displayEmpty:!0,fullWidth:!0,sx:{height:30},children:[e.jsx(_,{sx:{height:30},value:"Both",children:e.jsx("em",{children:"None"})}),e.jsx(_,{sx:{height:30},value:"Pakistan",children:"Pakistan"}),e.jsx(_,{sx:{height:30},value:"UAE",children:"UAE"})]})]}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsx(d,{required:!0,multiline:!0,id:"totalTickets ",name:"totalTickets ",label:"Duration (In Days)",fullWidth:!0,autoComplete:"totaltickets",variant:"standard",value:j,onChange:s=>{U(s.target.value)}})})]})})}const q=["Visa Details","Review Your Visa"];function Fe(){const[t,l]=f.useState(0),[c,b]=a.useState([]),[u,x]=a.useState([]),[F,B]=a.useState([]),[C,L]=a.useState([]),[h,P]=a.useState(""),[m,R]=a.useState(""),[p,S]=a.useState(""),[g,w]=a.useState(""),[j,U]=a.useState(""),[W,z]=a.useState(0),[y,V]=a.useState(""),[k,M]=a.useState(""),[v,s]=a.useState(0),[n,r]=a.useState(0),[I,Y]=f.useState(""),[X,Q]=a.useState([]),[ee,te]=a.useState([]),H=()=>{c.length==0||h.length==0||m.length==0||j.length==0||v.length==0||n.length==0?Y("Kindly Fill All The Fields !!! "):(u.map(i=>{Q(T=>[...T,{image:i}])}),C.map(i=>{te(T=>[...T,{video:i}])}),Y(""),l(t+1))},se=()=>{const i={title:h,description:m,firstName:p,lastName:g,email:j,phoneNumber:y,images:X,videos:ee,duration:v,price:n,region:k,active:!0},T="https://backend.azeemtourism.com/api/visas/create";oe.post(T,i).then(ne=>{}).catch(ne=>{})},ae=()=>{l(t-1)};function ie(i){switch(i){case 0:return e.jsx(Ne,{title:h,setZip:z,zip:W,country:y,setCountry:V,desc:m,address:p,setState:U,setCity:w,state:j,city:g,setDesc:R,setTitle:P,setAddress:S,setVideoFileUrl:L,videoFileUrl:C,setVideoFileName:B,videoFileName:F,setImageFileName:b,imageFileName:c,setImageFileUrl:x,imageFileUrl:u,totalCount:v,setTotalCount:s,price:n,setPrice:r,setRegion:M,region:k});case 1:return e.jsx(ke,{title:h,zip:W,country:y,desc:m,address:p,state:j,city:g,videoFileUrl:C,imageFileName:c,imageFileUrl:u,videoFileName:F,price:n,totalCount:v,region:k});default:throw new Error("Unknown step")}}return e.jsxs(f.Fragment,{children:[e.jsx(K,{}),e.jsx(O,{position:"absolute",color:"default",elevation:0,sx:{position:"relative",borderBottom:i=>`1px solid ${i.palette.divider}`}}),e.jsx(Z,{component:"main",maxWidth:"sm",sx:{mb:4},children:e.jsxs(re,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[e.jsx(be,{activeStep:t,sx:{pt:3,pb:5},children:q.map(i=>e.jsx(Ce,{children:e.jsx(Se,{children:i})},i))}),t===q.length?e.jsx(f.Fragment,{children:e.jsx(D,{variant:"h5",gutterBottom:!0,children:"Your Visa Has Been Created"})}):e.jsxs(f.Fragment,{children:[ie(t),e.jsxs(E,{sx:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(D,{style:{color:"red"},variant:"subtitle1",children:I}),t!==0&&e.jsx(A,{onClick:ae,sx:{mt:3,ml:1,bg:"#27272a"},children:"Back"}),t===q.length-1?e.jsxs(A,{variant:"contained",onClick:()=>{se(),H()},sx:{mt:3,ml:1,bg:"#27272a"},children:[" ","Create Visa"]}):e.jsxs(A,{variant:"contained",onClick:H,sx:{mt:3,ml:1,bg:"#27272a"},children:[" ","Next"]})]})]})]})})]})}const We=ce({palette:{primary:{main:"#27272a",contrastText:"#fff"}}});function Ae(t){return e.jsxs(D,{variant:"body2",color:"text.secondary",align:"center",...t,children:["Copyright Â© ",e.jsx(Te,{color:"inherit",children:"Azeem Tourism"}),new Date().getFullYear(),"."]})}const G=240,De=J(O,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:l})=>({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...l&&{marginLeft:G,width:`calc(100% - ${G}px)`,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}})),Be=J(ge,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:l})=>({"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:G,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box",...!l&&{overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7),[t.breakpoints.up("sm")]:{width:t.spacing(9)}}}}));function qe(){const[t,l]=a.useState(!0),c=()=>{l(!t)},b=le();var u=JSON.parse(localStorage.getItem("user"));return e.jsx(Ie,{theme:We,children:e.jsxs(E,{sx:{display:"flex"},children:[e.jsx(K,{}),e.jsx(De,{position:"absolute",open:t,children:e.jsxs($,{sx:{pr:"24px"},children:[e.jsx(N,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:c,sx:{marginRight:"36px",...t&&{display:"none"}},children:e.jsx(de,{})}),e.jsx(D,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:"Admin Dashboard"}),"Welcome ",u.firstName,e.jsx(N,{color:"inherit",onClick:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),b("/"),window.location.reload()},children:e.jsx(ue,{})})]})}),e.jsxs(Be,{variant:"permanent",open:t,children:[e.jsx($,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:e.jsx(N,{onClick:c,children:e.jsx(xe,{})})}),e.jsx(he,{}),e.jsx(me,{})]}),e.jsxs(E,{component:"main",sx:{backgroundColor:x=>x.palette.mode==="light"?x.palette.grey[100]:x.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto"},children:[e.jsx($,{}),e.jsx(pe,{title:"Add Visa"}),e.jsx(Fe,{}),e.jsx(Z,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsx(Ae,{sx:{pt:4}})})]})]})})}export{qe as default};
