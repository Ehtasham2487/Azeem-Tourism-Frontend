import{j as e,R as T,I as g,D as I,M as Q,t as N,r as a,A as ne,C as re,P as xe,w as M,q as me,x as pe,T as ee,y as ge,z as je,s as le}from"./index-HM1agdtz.js";import{d as ve,a as fe,D as Ce,M as be,A as ye,b as Se}from"./ExitToApp-POo81fz3.js";import{d as ie,c as we,I as ke,S as Te,a as Ie,b as De}from"./DeleteForeverOutlined-SFFpJk7X.js";import{d as We}from"./Delete-BnaZjXBh.js";import{G as n,S as Fe,T as c}from"./TextField-5eWDEJxN.js";import{S as Ae}from"./Select-Z0hCbYUa.js";import{R as Pe}from"./Review-kq-kdGMG.js";import{C as oe}from"./CssBaseline-FkVtJlq8.js";import{T as Re,L as Be}from"./VisibilityOff-y18L3EaN.js";import"./ListItemText-ig52TPkz.js";import"./capitalize--SaWl2Vs.js";function Ne({title:t,setZip:u,zip:h,country:D,setCountry:x,desc:m,address:z,setState:_,setCity:W,state:$,city:j,setDesc:E,setTitle:v,setAddress:G,setImageFileName:F,imageFileName:A,setImageFileUrl:f,imageFileUrl:P,totalCount:C,setTotalCount:V,price:b,setPrice:Y,setRegion:R,region:H,isDiscounted:p,discount:O,setisDiscounted:y,setDiscount:Z,milestones:l,setMilestones:S}){const w=()=>{S([...l,{title:"",image:""}]),console.log(l)},J=s=>{const i=[...l];i.splice(s,1),S(i)},k=s=>{R(s.target.value)},K=()=>{y(!p)},X=()=>{window.cloudinary.createUploadWidget({cloudName:"dhhjr3vim",uploadPreset:"nnitbvl3"},(i,r)=>{console.log("rs",r),!i&&r&&r.event==="success"&&(console.log("ue"),F(o=>[...o,r.info.original_filename]),f(o=>[...o,r.info.url]))}).open()},L=s=>{window.cloudinary.createUploadWidget({cloudName:"dhhjr3vim",uploadPreset:"nnitbvl3"},(r,o)=>{if(!r&&o&&o.event==="success"){const q=[...l];q[s].image=o.info.url,S(q)}}).open()},U=(s,i)=>{F(A.filter(r=>r!==s)),f(P.filter(r=>r!==i))};return e.jsx(T.Fragment,{children:e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(e.Fragment,{children:e.jsx(n,{item:!0,xs:12,sm:12,children:e.jsx(Fe,{direction:"row",alignItems:"center",spacing:2,children:e.jsxs("label",{htmlFor:"icon-button-file",children:[e.jsx(g,{onClick:()=>{X()},color:"primary","aria-label":"upload picture",component:"span",children:e.jsx(I,{style:{width:"350px"},variant:"contained",sx:{p:1,bg:"#27272a"},endIcon:e.jsx(ie,{}),children:"Upload Images"})}),A.map((s,i)=>A?e.jsxs("div",{className:"flex justify-between ",children:[e.jsx("a",{className:"text-black",target:"_blank",href:P[i],rel:"noreferrer",children:e.jsxs("p",{children:["Uploaded Images: ",s]})}),e.jsx("div",{style:{marginTop:"-8px"},children:e.jsx(g,{className:"text-rose-600",onClick:()=>{U(s,P[i])},children:e.jsx(we,{style:{color:"red"}})})})]}):null)]})})})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsx(c,{required:!0,multiline:!0,id:"title",name:"title",label:"Title",fullWidth:!0,autoComplete:"title",variant:"standard",value:t,onChange:s=>{v(s.target.value)}})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsx(c,{required:!0,multiline:!0,id:"description",name:"description",label:"Description",fullWidth:!0,autoComplete:"description",variant:"standard",value:m,onChange:s=>{E(s.target.value)}})}),e.jsx(n,{item:!0,xs:12,children:e.jsx(c,{required:!0,multiline:!0,id:"address",name:"address",label:"Address",fullWidth:!0,autoComplete:"shipping address-line1",variant:"standard",value:z,onChange:s=>{G(s.target.value)}})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsx(c,{required:!0,multiline:!0,id:"city",name:"city",label:"City",fullWidth:!0,autoComplete:"shipping address-level2",variant:"standard",value:j,onChange:s=>{W(s.target.value)}})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsx(c,{id:"state",multiline:!0,name:"state",label:"State/Province",fullWidth:!0,variant:"standard",value:$,onChange:s=>{_(s.target.value)}})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsx(c,{required:!0,multiline:!0,id:"zip",name:"zip",label:"Zip / Postal code",fullWidth:!0,autoComplete:"shipping postal-code",variant:"standard",value:h,onChange:s=>{u(s.target.value)}})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsx(c,{required:!0,multiline:!0,id:"country",name:"country",label:"Country",fullWidth:!0,autoComplete:"shipping country",variant:"standard",value:D,onChange:s=>{x(s.target.value)}})}),e.jsxs(n,{item:!0,xs:12,sm:6,children:[e.jsx(ke,{id:"region-select-label",children:"Region"}),e.jsxs(Ae,{value:H,onChange:k,displayEmpty:!0,fullWidth:!0,sx:{height:30},children:[e.jsx(Q,{sx:{height:30},value:"Both",children:e.jsx("em",{children:"None"})}),e.jsx(Q,{sx:{height:30},value:"Pakistan",children:"Pakistan"}),e.jsx(Q,{sx:{height:30},value:"UAE",children:"UAE"})]})]}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsx(c,{required:!0,multiline:!0,id:"price",name:"price",label:"Price",fullWidth:!0,autoComplete:"price",variant:"standard",value:b,onChange:s=>{Y(s.target.value)}})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsx(c,{required:!0,multiline:!0,id:"totalTickets ",name:"totalTickets ",label:"Total Tickets",fullWidth:!0,autoComplete:"totaltickets",variant:"standard",value:C,onChange:s=>{V(s.target.value)}})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:p,onChange:K,style:{marginRight:"3%"}}),"Is Discounted"]})}),e.jsx(n,{item:!0,lg:12,xs:12,sm:12,children:e.jsx(c,{multiline:!0,id:"discount",name:"discount",label:"Discount Percentage",fullWidth:!0,variant:"standard",value:O,onChange:s=>{Z(s.target.value)}})}),e.jsx(n,{item:!0,lg:12,xs:12,sm:12,children:e.jsx("p",{style:{fontWeight:"bold",fontSize:18,marginTop:0},children:"Milestones"})}),l.map((s,i)=>e.jsxs(n,{item:!0,lg:6,md:6,sm:6,xs:12,children:[e.jsxs(N,{sx:{marginRight:2},children:[e.jsx("p",{style:{fontSize:18,marginTop:0},children:"Description"}),e.jsx(c,{multiline:!0,label:"Description",fullWidth:!0,variant:"standard",value:s.title,onChange:r=>{const o=[...l];o[i].title=r.target.value,S(o)}})]}),e.jsx(N,{children:e.jsx("label",{htmlFor:"icon-button-file",children:e.jsx(g,{onClick:()=>L(i),color:"primary","aria-label":"upload picture",component:"span",disabled:l[i].image!="",children:e.jsx(I,{style:{width:"110px"},variant:"contained",sx:{p:1,bg:"#27272a"},endIcon:e.jsx(ie,{}),disabled:l[i].image!="",children:"Image"})})})}),e.jsx(g,{onClick:()=>J(i),children:e.jsx(We,{})})]},i)),e.jsx(n,{children:e.jsx(I,{variant:"contained",onClick:w,sx:{mx:{lg:3,md:3,sm:3,xs:"auto"},mb:5,mt:10,padding:1},children:"Add New Milestone"})})]})})}const te=["Package Details","Review Your Package"];function ze(){const[t,u]=T.useState(0),[h,D]=a.useState([]),[x,m]=a.useState([]),[z,_]=a.useState([]),[W,$]=a.useState([]),[j,E]=a.useState(""),[v,G]=a.useState(""),[F,A]=a.useState(!1),[f,P]=a.useState(0),[C,V]=a.useState(""),[b,Y]=a.useState(""),[R,H]=a.useState("Both"),[p,O]=a.useState(""),[y,Z]=a.useState(0),[l,S]=a.useState(""),[w,J]=a.useState(0),[k,K]=a.useState(0),[X,L]=T.useState(""),[U,s]=a.useState([{title:"",image:""}]),[i,r]=a.useState([]),[o,q]=a.useState([]),ae=()=>{h.length==0||j.length==0||v.length==0||C.length==0||b.length==0||p.length==0||y.length==0||l.length==0||w.length==0||k.length==0?L("Kindly Fill All The Fields !!! "):(x.map(d=>{r(B=>[...B,{image:d}])}),W.map(d=>{q(B=>[...B,{video:d}])}),L(""),u(t+1))},de=()=>{const d={title:j,description:v,address:C,city:b,state:p,zip:y,country:l,images:i,videos:o,totalCount:w,price:k,isDiscounted:F,Discount:f,active:!0,region:R,milestone:U},B="https://backend.azeemtourism.com/api/tours/create";me.post(B,d).then(he=>{}).catch(he=>{})},ce=()=>{u(t-1)};function ue(d){switch(d){case 0:return e.jsx(Ne,{title:j,setZip:Z,zip:y,country:l,setCountry:S,desc:v,address:C,setState:O,setCity:Y,state:p,city:b,setDesc:G,setTitle:E,setAddress:V,setVideoFileUrl:$,videoFileUrl:W,videoFileName:z,setVideoFileName:_,setImageFileName:D,imageFileName:h,setImageFileUrl:m,imageFileUrl:x,totalCount:w,setTotalCount:J,price:k,setPrice:K,setRegion:H,region:R,isDiscounted:F,discount:f,setisDiscounted:A,setDiscount:P,milestones:U,setMilestones:s});case 1:return e.jsx(Pe,{title:j,zip:y,country:l,desc:v,address:C,state:p,city:b,videoFileUrl:W,imageFileName:h,imageFileUrl:x,videoFileName:z,price:k,region:R,totalCount:w,discount:f});default:throw new Error("Unknown step")}}return e.jsxs(T.Fragment,{children:[e.jsx(oe,{}),e.jsx(ne,{position:"absolute",color:"default",elevation:0,sx:{position:"relative",borderBottom:d=>`1px solid ${d.palette.divider}`}}),e.jsx(re,{component:"main",maxWidth:"sm",sx:{mb:4},children:e.jsxs(xe,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[e.jsx(Te,{activeStep:t,sx:{pt:3,pb:5},children:te.map(d=>e.jsx(Ie,{children:e.jsx(De,{children:d})},d))}),t===te.length?e.jsx(T.Fragment,{children:e.jsx(M,{variant:"h5",gutterBottom:!0,children:"Your Tour Has Been Created"})}):e.jsxs(T.Fragment,{children:[ue(t),e.jsxs(N,{sx:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(M,{style:{color:"red"},variant:"subtitle1",children:X}),t!==0&&e.jsx(I,{onClick:ce,sx:{mt:3,ml:1},children:"Back"}),t===te.length-1?e.jsxs(I,{variant:"contained",onClick:()=>{de(),ae()},sx:{mt:3,ml:1},children:[" ","Create Tour"]}):e.jsxs(I,{variant:"contained",onClick:ae,sx:{mt:3,ml:1},children:[" ","Next"]})]})]})]})})]})}const Le=je({palette:{primary:{main:"#27272a",contrastText:"#fff"}}});function Ue(t){return e.jsxs(M,{variant:"body2",color:"text.secondary",align:"center",...t,children:["Copyright Â© ",e.jsx(Be,{color:"inherit",children:"Azeem Tourism"})," ",new Date().getFullYear(),"."]})}const se=240,qe=le(ne,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:u})=>({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...u&&{marginLeft:se,width:`calc(100% - ${se}px)`,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}})),Me=le(Se,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:u})=>({"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:se,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box",...!u&&{overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7),[t.breakpoints.up("sm")]:{width:t.spacing(9)}}}}));function Xe(){const[t,u]=a.useState(!0),h=()=>{u(!t)},D=pe();var x=JSON.parse(localStorage.getItem("user"));return e.jsx(Re,{theme:Le,children:e.jsxs(N,{sx:{display:"flex"},children:[e.jsx(oe,{}),e.jsx(qe,{position:"absolute",open:t,children:e.jsxs(ee,{sx:{pr:"24px"},children:[e.jsx(g,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:h,sx:{marginRight:"36px",...t&&{display:"none"}},children:e.jsx(ge,{})}),e.jsx(M,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:"Admin Dashboard"}),"Welcome ",x.firstName,e.jsx(g,{color:"inherit",onClick:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),D("/"),window.location.reload()},children:e.jsx(ve,{})})]})}),e.jsxs(Me,{variant:"permanent",open:t,children:[e.jsx(ee,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:e.jsx(g,{onClick:h,children:e.jsx(fe,{})})}),e.jsx(Ce,{}),e.jsx(be,{})]}),e.jsxs(N,{component:"main",sx:{backgroundColor:m=>m.palette.mode==="light"?m.palette.grey[100]:m.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto"},children:[e.jsx(ee,{}),e.jsx(ye,{title:"Add Tours"}),e.jsx(ze,{}),e.jsx(re,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsx(Ue,{sx:{pt:4}})})]})]})})}export{Xe as default};
