import{r as u,w as h,j as a,z as k,q as c}from"./index-KmvzQcx_.js";import{s as g}from"./styled-components.browser.esm-HepRRT6X.js";import"./Tooltip-3Fkf72Yj.js";import{C as f}from"./Card-_aKLilDf.js";const C=()=>{const[j,s]=u.useState(null),d=h(),e=JSON.parse(localStorage.getItem("orderDetails")),l=()=>{const r={orderType:e.orderType,objectService:e.packageObject._id,fullName:e.fullname,tourName:e.orderType=="hotel"?e.packageObject.name:e.packageObject.title,tourDate:e.dateoftour,email:e.email,phone:e.phone,totalPersons:e.totalpersons,pickupTime:e.pickuptime,pickupLocation:e.pickuplocation,stripeSessionId:e.stripeSessionId,payment:e.totalprice};s(r);const o="https://backend.azeemtourism.com/api/orders/create";c.post(o,r).then(t=>{const n={orderNo:t.data._id,orderType:t.data.orderType,objectService:t.data.objectService,fullName:t.data.fullName,tourName:t.data.tourName,tourDate:t.data.tourDate,email:t.data.email,phone:t.data.phone,totalPersons:t.data.totalPersons,pickupTime:t.data.pickupTime,pickupLocation:t.data.pickupLocation,stripeSessionId:t.data.stripeSessionId,payment:t.data.payment};s(n);const m=`https://backend.azeemtourism.com/api/orders/mail/${t.data.email}`;c.post(m).then(i=>{console.log(i.data)}).catch(i=>{console.error(i)}),p(),d("/invoice",{state:{data:n}})}).catch(t=>{console.error(t)})},p=()=>{const r={totalCount:e.packageObject.totalCount-e.totalpersons};let o="";e.orderType==="package"?o=`https://backend.azeemtourism.com/api/packages/update/${e.packageObject._id}`:e.orderType==="ticket"?o=`https://backend.azeemtourism.com/api/tickets/update/${e.packageObject._id}`:e.orderType==="tour"?o=`https://backend.azeemtourism.com/api/tours/update/${e.packageObject._id}`:e.orderType==="hotel"?o=`https://backend.azeemtourism.com/api/hotels/update/${e.packageObject._id}`:e.orderType==="visa"&&(o=`https://backend.azeemtourism.com/api/visas/update/${e.packageObject._id}`),c.post(o,r).then(t=>{}).catch(t=>{})};return a.jsx(b,{children:a.jsxs(f,{className:"transform shadow-lg rounded-lg lg:w-96 border-2 font-inter h-auto justify-center",style:{boxShadow:46},children:[a.jsx("h5",{className:"text-center font-semibold",children:"Checkout Successful"}),a.jsxs("p",{className:"text-lg text-justify ",children:["Thank you for choosing Azeem Tourism! ðŸŒŸ Your order might take some time to process. In case of any inquiries, contact the support at"," ",a.jsx("a",{href:"mailto:azeemtourism@gmail.com",className:"text-primary-600 font-normal",children:a.jsx("strong",{children:"support"})})," ","Or you can ðŸ“ž WhatsApp us on"," ",a.jsx("a",{href:"https://api.whatsapp.com/send?phone=971522760013",className:"text-primary-600 font-normal",children:a.jsx("strong",{children:"+97152760013"})}),"."]}),a.jsx("p",{children:a.jsx("strong",{children:"Please Make Sure to Click on Confirm Order Else We will not receive our order (yet your payment is done)"})}),a.jsx(k,{onClick:()=>{l()},sx:{fontFamily:"Inter",backgroundColor:"#7ec7b3",color:"black",borderRadius:"lg",fontSize:"lg",p:1.2,transition:"all 0.3s ease-in-out","&:hover":{backgroundColor:"#00A3E0",color:"white"}},children:"Confirm Order"})]})})},b=g.div`
  min-height: 80vh;
  max-width: 850px;
  width: 100%;
  margin: auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

  h2 {
    margin-bottom: 0.5rem;
    color: #029e02;
  }
`;export{C as default};
