import{D as Q,w as X,R as i,r as e,j as t,A as tt,C as et,P as st,v as R,z as g,t as at,q as ot}from"./index-odFMYlZr.js";import{E as nt}from"./EditPackageForm-itKzJwBq.js";import{R as it}from"./Review-DoFnFW2g.js";import{C as rt}from"./CssBaseline-M8cyZCHq.js";import{S as ct,a as lt,b as dt}from"./DeleteForeverOutlined-ur7hsYTx.js";import"./CloudUploadOutlined-a6YApA3d.js";import"./TextField-KqW6Ko5o.js";import"./Select-tRT-Bd6P.js";import"./withStyles-UNuNTrS6.js";const f=["Tours Details","Review Your Package"];function Ct(){const T=Q(),b=X(),s=T.state,[o,y]=i.useState(0),[S,w]=e.useState([]),[j,L]=e.useState([]),[F,N]=e.useState([]),[v,U]=e.useState([]),[r,E]=e.useState(s.title),[c,P]=e.useState(s.description),[C,A]=e.useState(s.region),[l,z]=e.useState(s.address),[d,D]=e.useState(s.city),[m,I]=e.useState(s.state),[u,V]=e.useState(s.zip),[p,M]=e.useState(s.country),[x,Y]=e.useState(s.totalCount),[h,$]=e.useState(s.price),[q,k]=i.useState(""),[G,H]=e.useState([]),[K,W]=e.useState([]),B=()=>{S.length==0||r.length==0||c.length==0||l.length==0||d.length==0||m.length==0||u.length==0||p.length==0||x.length==0||h.length==0?k("Kindly Fill All The Fields !!! "):(j.map(a=>{H(n=>[...n,{image:a}])}),v.map(a=>{W(n=>[...n,{video:a}])}),k(""),y(o+1))},Z=()=>{const a={title:r,description:c,address:l,city:d,state:m,zip:u,country:p,images:G,videos:K,region:C,totalCount:x,price:h,active:!0},n=`https://backend.azeemtourism.com/api/tours/update/${s._id}`;ot.post(n,a).then(O=>{}).catch(O=>{})},_=()=>{y(o-1)};function J(a){switch(a){case 0:return t.jsx(nt,{title:r,setZip:V,zip:u,country:p,setCountry:M,desc:c,address:l,setState:I,setCity:D,state:m,city:d,setDesc:P,setTitle:E,setAddress:z,setVideoFileUrl:U,videoFileUrl:v,setVideoFileName:N,videoFileName:F,setImageFileName:w,imageFileName:S,setImageFileUrl:L,imageFileUrl:j,totalCount:x,setTotalCount:Y,price:h,setPrice:$,packageData:s,setRegion:A,region:C});case 1:return t.jsx(it,{title:r,zip:u,country:p,desc:c,address:l,state:m,city:d,videoFileUrl:v,videoFileName:F,imageFileName:S,imageFileUrl:j,price:h,totalCount:x,region:C});default:throw new Error("Unknown step")}}return t.jsxs(i.Fragment,{children:[t.jsx(rt,{}),t.jsx(tt,{position:"absolute",color:"default",elevation:0,sx:{position:"relative",borderBottom:a=>`1px solid ${a.palette.divider}`}}),t.jsx(et,{component:"main",maxWidth:"lg",sx:{mb:4},children:t.jsxs(st,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[t.jsx(ct,{activeStep:o,sx:{pt:3,pb:5},children:f.map(a=>t.jsx(lt,{children:t.jsx(dt,{children:a})},a))}),o===f.length?t.jsxs(i.Fragment,{children:[t.jsx(R,{variant:"h5",gutterBottom:!0,children:"Your Package Has Been Updated"}),t.jsx(g,{variant:"contained",onClick:()=>b("/admin/managetours"),sx:{mt:3,ml:1},children:"GoTo Manage Tours"})]}):t.jsxs(i.Fragment,{children:[J(o),t.jsxs(at,{sx:{display:"flex",justifyContent:"flex-end"},children:[t.jsx(R,{style:{color:"red"},variant:"subtitle1",children:q}),o!==0&&t.jsx(g,{onClick:_,sx:{mt:3,ml:1},children:"Back"}),o===f.length-1?t.jsxs(g,{variant:"contained",onClick:()=>{Z(),B()},sx:{mt:3,ml:1},children:[" ","Edit Tour"]}):t.jsxs(g,{variant:"contained",onClick:B,sx:{mt:3,ml:1},children:[" ","Next"]})]})]})]})})]})}export{Ct as default};
