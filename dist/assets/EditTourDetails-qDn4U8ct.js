import{D as J,w as O,R as o,r as e,j as t,z as Q,C as X,P as tt,v as B,A as g,t as et,q as st}from"./index-J3bmnUGf.js";import{E as at}from"./EditPackageForm-tAIUte6w.js";import{S as nt,a as it,b as ot,R as rt}from"./Review-LVtcnZpR.js";import{C as ct}from"./CssBaseline-jMRw95Iy.js";import"./TextField-yXsHM-QL.js";import"./Select-ROiOBG7U.js";import"./ListItemText-zz0fWdZs.js";const C=["Tours Details","Review Your Package"];function gt(){const T=J(),b=O(),a=T.state,[n,y]=o.useState(0),[S,w]=e.useState([]),[j,L]=e.useState([]),[F,N]=e.useState([]),[v,R]=e.useState([]),[r,U]=e.useState(a.title),[c,E]=e.useState(a.description),[l,P]=e.useState(a.address),[d,A]=e.useState(a.city),[u,z]=e.useState(a.state),[m,D]=e.useState(a.zip),[p,I]=e.useState(a.country),[x,M]=e.useState(a.totalCount),[h,V]=e.useState(a.price),[Y,f]=o.useState(""),[$,q]=e.useState([]),[G,H]=e.useState([]),k=()=>{S.length==0||r.length==0||c.length==0||l.length==0||d.length==0||u.length==0||m.length==0||p.length==0||x.length==0||h.length==0?f("Kindly Fill All The Fields !!! "):(j.map(s=>{q(i=>[...i,{image:s}])}),v.map(s=>{H(i=>[...i,{video:s}])}),f(""),y(n+1))},K=()=>{const s={title:r,description:c,address:l,city:d,state:u,zip:m,country:p,images:$,videos:G,totalCount:x,price:h,active:!0},i=`https://backend.azeemtourism.com/api/tours/update/${a._id}`;st.post(i,s).then(_=>{}).catch(_=>{})},W=()=>{y(n-1)};function Z(s){switch(s){case 0:return t.jsx(at,{title:r,setZip:D,zip:m,country:p,setCountry:I,desc:c,address:l,setState:z,setCity:A,state:u,city:d,setDesc:E,setTitle:U,setAddress:P,setVideoFileUrl:R,videoFileUrl:v,setVideoFileName:N,videoFileName:F,setImageFileName:w,imageFileName:S,setImageFileUrl:L,imageFileUrl:j,totalCount:x,setTotalCount:M,price:h,setPrice:V,packageData:a});case 1:return t.jsx(rt,{title:r,zip:m,country:p,desc:c,address:l,state:u,city:d,videoFileUrl:v,videoFileName:F,imageFileName:S,imageFileUrl:j,price:h,totalCount:x});default:throw new Error("Unknown step")}}return t.jsxs(o.Fragment,{children:[t.jsx(ct,{}),t.jsx(Q,{position:"absolute",color:"default",elevation:0,sx:{position:"relative",borderBottom:s=>`1px solid ${s.palette.divider}`}}),t.jsx(X,{component:"main",maxWidth:"lg",sx:{mb:4},children:t.jsxs(tt,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[t.jsx(nt,{activeStep:n,sx:{pt:3,pb:5},children:C.map(s=>t.jsx(it,{children:t.jsx(ot,{children:s})},s))}),n===C.length?t.jsxs(o.Fragment,{children:[t.jsx(B,{variant:"h5",gutterBottom:!0,children:"Your Package Has Been Updated"}),t.jsx(g,{variant:"contained",onClick:()=>b("/admin/managetours"),sx:{mt:3,ml:1},children:"GoTo Manage Tours"})]}):t.jsxs(o.Fragment,{children:[Z(n),t.jsxs(et,{sx:{display:"flex",justifyContent:"flex-end"},children:[t.jsx(B,{style:{color:"red"},variant:"subtitle1",children:Y}),n!==0&&t.jsx(g,{onClick:W,sx:{mt:3,ml:1},children:"Back"}),n===C.length-1?t.jsxs(g,{variant:"contained",onClick:()=>{K(),k()},sx:{mt:3,ml:1},children:[" ","Edit Tour"]}):t.jsxs(g,{variant:"contained",onClick:k,sx:{mt:3,ml:1},children:[" ","Next"]})]})]})]})})]})}export{gt as default};
