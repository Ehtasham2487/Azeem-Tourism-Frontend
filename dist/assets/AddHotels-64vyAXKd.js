import{j as e,R as m,I as w,z as k,M as P,r as a,A as Z,C as J,P as ie,v as I,t as M,q as re,w as oe,T as U,x as le,y as de,s as K}from"./index-odFMYlZr.js";import{d as ce,a as ue,D as xe,M as pe,A as he,b as me}from"./ExitToApp-_53kb0_y.js";import{d as ge,c as je,I as ve,S as fe,a as Se,b as we}from"./DeleteForeverOutlined-ur7hsYTx.js";import{G as u,S as Ce,T as b}from"./TextField-KqW6Ko5o.js";import{S as ye}from"./Select-tRT-Bd6P.js";import{H as be}from"./ReviewHotels-hBrWoCAW.js";import{C as X}from"./CssBaseline-M8cyZCHq.js";import{T as ke,L as Ie}from"./VisibilityOff-65Yzkfwp.js";import"./withStyles-UNuNTrS6.js";function Te({title:t,setZip:o,zip:l,country:C,setCountry:x,desc:d,address:T,setState:$,setCity:F,state:E,city:g,setDesc:A,setTitle:p,setAddress:B,setImageFileName:c,imageFileName:j,setImageFileUrl:y,imageFileUrl:v,totalCount:q,setTotalCount:G,price:D,setPrice:L,setRegion:N,region:H}){const R=s=>{N(s.target.value)},W=()=>{window.cloudinary.createUploadWidget({cloudName:"dhhjr3vim",uploadPreset:"nnitbvl3"},(r,i)=>{console.log("rs",i),!r&&i&&i.event==="success"&&(console.log("ue"),c(f=>[...f,i.info.original_filename]),y(f=>[...f,i.info.url]))}).open()},h=(s,r)=>{c(j.filter(i=>i!==s)),y(v.filter(i=>i!==r))};return e.jsx(m.Fragment,{children:e.jsxs(u,{container:!0,spacing:3,children:[e.jsx(e.Fragment,{children:e.jsx(u,{item:!0,xs:12,sm:12,children:e.jsx(Ce,{direction:"row",alignItems:"center",spacing:2,children:e.jsxs("label",{htmlFor:"icon-button-file",children:[e.jsx(w,{onClick:()=>{W()},color:"primary","aria-label":"upload picture",component:"span",children:e.jsx(k,{style:{width:"350px"},variant:"contained",sx:{p:1,bg:"#27272a"},endIcon:e.jsx(ge,{}),children:"Upload Images"})}),j.map((s,r)=>j?e.jsxs("div",{className:"flex justify-between ",children:[e.jsx("a",{className:"text-black",target:"_blank",href:v[r],rel:"noreferrer",children:e.jsxs("p",{children:["Uploaded Images: ",s]})}),e.jsx("div",{style:{marginTop:"-8px"},children:e.jsx(w,{className:"text-rose-600",onClick:()=>{h(s,v[r])},children:e.jsx(je,{style:{color:"red"}})})})]}):null)]})})})}),e.jsx(u,{item:!0,xs:12,sm:6,children:e.jsx(b,{required:!0,multiline:!0,id:"title",name:"title",label:"Name",fullWidth:!0,autoComplete:"title",variant:"standard",value:t,onChange:s=>{p(s.target.value)}})}),e.jsx(u,{item:!0,xs:12,sm:6,children:e.jsx(b,{required:!0,multiline:!0,id:"description",name:"description",label:"Description",fullWidth:!0,autoComplete:"description",variant:"standard",value:d,onChange:s=>{A(s.target.value)}})}),e.jsx(u,{item:!0,xs:12,children:e.jsx(b,{required:!0,multiline:!0,id:"address",name:"address",label:"Location",fullWidth:!0,autoComplete:"shipping address-line1",variant:"standard",value:T,onChange:s=>{B(s.target.value)}})}),e.jsx(u,{item:!0,xs:12,sm:6,children:e.jsx(b,{required:!0,multiline:!0,id:"price",name:"price",label:"Price",fullWidth:!0,autoComplete:"price",variant:"standard",value:D,onChange:s=>{L(s.target.value)}})}),e.jsxs(u,{item:!0,xs:12,sm:6,children:[e.jsx(ve,{id:"region-select-label",children:"Region"}),e.jsxs(ye,{value:H,onChange:R,displayEmpty:!0,fullWidth:!0,sx:{height:30},children:[e.jsx(P,{sx:{height:30},value:"Both",children:e.jsx("em",{children:"None"})}),e.jsx(P,{sx:{height:30},value:"Pakistan",children:"Pakistan"}),e.jsx(P,{sx:{height:30},value:"UAE",children:"UAE"})]})]})]})})}const z=["Hotel Details","Review Your Hotel"];function Fe(){const[t,o]=m.useState(0),[l,C]=a.useState([]),[x,d]=a.useState([]),[T,$]=a.useState([]),[F,E]=a.useState([]),[g,A]=a.useState(""),[p,B]=a.useState(""),[c,j]=a.useState(""),[y,v]=a.useState(""),[q,G]=a.useState(""),[D,L]=a.useState(0),[N,H]=a.useState(""),[R,W]=a.useState(0),[h,s]=a.useState(0),[r,i]=a.useState(""),[f,V]=m.useState(""),[Q,ee]=a.useState([]),[Ne,te]=a.useState([]),Y=()=>{l.length==0||g.length==0||p.length==0||c.length==0||h.length==0?V("Kindly Fill All The Fields !!! "):(x.map(n=>{ee(S=>[...S,{image:n}])}),F.map(n=>{te(S=>[...S,{video:n}])}),V(""),o(t+1))},se=()=>{const n={name:g,description:p,location:c,images:Q,price:h,region:r,active:!0},S="https://backend.azeemtourism.com/api/hotels/create";re.post(S,n).then(O=>{console.log(O.data)}).catch(O=>{})},ae=()=>{o(t-1)};function ne(n){switch(n){case 0:return e.jsx(Te,{title:g,setZip:L,zip:D,country:N,setCountry:H,desc:p,address:c,setState:G,setCity:v,state:q,city:y,setDesc:B,setTitle:A,setAddress:j,setVideoFileUrl:E,setVideoFileName:$,videoFileName:T,videoFileUrl:F,setImageFileName:C,imageFileName:l,setImageFileUrl:d,imageFileUrl:x,totalCount:R,setTotalCount:W,price:h,setPrice:s,setRegion:i,region:r});case 1:return e.jsx(be,{title:g,desc:p,address:c,imageFileName:l,imageFileUrl:x,price:h,region:r});default:throw new Error("Unknown step")}}return e.jsxs(m.Fragment,{children:[e.jsx(X,{}),e.jsx(Z,{position:"absolute",color:"default",elevation:0,sx:{position:"relative",borderBottom:n=>`1px solid ${n.palette.divider}`}}),e.jsx(J,{component:"main",maxWidth:"sm",sx:{mb:4},children:e.jsxs(ie,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[e.jsx(fe,{activeStep:t,sx:{pt:3,pb:5},children:z.map(n=>e.jsx(Se,{children:e.jsx(we,{children:n})},n))}),t===z.length?e.jsx(m.Fragment,{children:e.jsx(I,{variant:"h5",gutterBottom:!0,children:"Your Hotel Has Been Created"})}):e.jsxs(m.Fragment,{children:[ne(t),e.jsxs(M,{sx:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(I,{style:{color:"red"},variant:"subtitle1",children:f}),t!==0&&e.jsx(k,{onClick:ae,sx:{mt:3,ml:1},children:"Back"}),t===z.length-1?e.jsxs(k,{variant:"contained",onClick:()=>{se(),Y()},sx:{mt:3,ml:1},children:[" ","Create Hotel"]}):e.jsxs(k,{variant:"contained",onClick:Y,sx:{mt:3,ml:1},children:[" ","Next"]})]})]})]})})]})}const Ae=de({palette:{primary:{main:"#27272a",contrastText:"#fff"}}});function Be(t){return e.jsxs(I,{variant:"body2",color:"text.secondary",align:"center",...t,children:["Copyright Â© ",e.jsx(Ie,{color:"inherit",children:"Azeem Tourism"})," ",new Date().getFullYear(),"."]})}const _=240,De=K(Z,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:o})=>({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...o&&{marginLeft:_,width:`calc(100% - ${_}px)`,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}})),Le=K(me,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:o})=>({"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:_,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box",...!o&&{overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7),[t.breakpoints.up("sm")]:{width:t.spacing(9)}}}}));function Ee(){const[t,o]=a.useState(!0),l=()=>{o(!t)},C=oe();var x=JSON.parse(localStorage.getItem("user"));return e.jsx(ke,{theme:Ae,children:e.jsxs(M,{sx:{display:"flex"},children:[e.jsx(X,{}),e.jsx(De,{position:"absolute",open:t,children:e.jsxs(U,{sx:{pr:"24px"},children:[e.jsx(w,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:l,sx:{marginRight:"36px",...t&&{display:"none"}},children:e.jsx(le,{})}),e.jsx(I,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:"Admin Dashboard"}),"Welcome ",x.firstName,e.jsx(w,{color:"inherit",onClick:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),C("/"),window.location.reload()},children:e.jsx(ce,{})})]})}),e.jsxs(Le,{variant:"permanent",open:t,children:[e.jsx(U,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:e.jsx(w,{onClick:l,children:e.jsx(ue,{})})}),e.jsx(xe,{}),e.jsx(pe,{})]}),e.jsxs(M,{component:"main",sx:{backgroundColor:d=>d.palette.mode==="light"?d.palette.grey[100]:d.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto"},children:[e.jsx(U,{}),e.jsx(he,{title:"Add Hotels"}),e.jsx(Fe,{}),e.jsx(J,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsx(Be,{sx:{pt:4}})})]})]})})}export{Ee as default};
