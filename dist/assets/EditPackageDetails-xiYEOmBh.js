import{D as Q,w as X,R as o,r as e,j as t,A as tt,C as et,P as st,v as P,z as h,t as at,q as nt}from"./index-odFMYlZr.js";import{E as it}from"./EditPackageForm-itKzJwBq.js";import{R as ot}from"./Review-DoFnFW2g.js";import{C as rt}from"./CssBaseline-M8cyZCHq.js";import{S as ct,a as lt,b as dt}from"./DeleteForeverOutlined-ur7hsYTx.js";import"./CloudUploadOutlined-a6YApA3d.js";import"./TextField-KqW6Ko5o.js";import"./Select-tRT-Bd6P.js";import"./withStyles-UNuNTrS6.js";const C=["Package Details","Review Your Package"];function kt(){const R=Q(),b=X(),s=R.state,[n,f]=o.useState(0),[S,w]=e.useState([]),[j,L]=e.useState([]),[y,N]=e.useState([]),[v,U]=e.useState([]),[r,E]=e.useState(s.title),[c,A]=e.useState(s.description),[k,T]=e.useState(s.region),[l,z]=e.useState(s.address),[d,D]=e.useState(s.city),[m,I]=e.useState(s.state),[p,V]=e.useState(s.zip),[u,M]=e.useState(s.country),[g,Y]=e.useState(s.totalCount),[x,$]=e.useState(s.price),[q,F]=o.useState(""),[G,H]=e.useState([]),[K,W]=e.useState([]),B=()=>{S.length==0||r.length==0||c.length==0||l.length==0||d.length==0||m.length==0||p.length==0||u.length==0||g.length==0||x.length==0?F("Kindly Fill All The Fields !!! "):(j.map(a=>{H(i=>[...i,{image:a}])}),v.map(a=>{W(i=>[...i,{video:a}])}),F(""),f(n+1))},Z=()=>{const a={title:r,description:c,address:l,city:d,state:m,zip:p,country:u,images:G,videos:K,totalCount:g,region:k,price:x,active:!0},i=`https://backend.azeemtourism.com/api/packages/update/${s._id}`;nt.post(i,a).then(O=>{}).catch(O=>{})},_=()=>{f(n-1)};function J(a){switch(a){case 0:return t.jsx(it,{title:r,setZip:V,zip:p,country:u,setCountry:M,desc:c,address:l,setState:I,setCity:D,state:m,city:d,setDesc:A,setTitle:E,setAddress:z,setVideoFileUrl:U,videoFileUrl:v,setImageFileName:w,imageFileName:S,setImageFileUrl:L,imageFileUrl:j,setVideoFileName:N,videoFileName:y,totalCount:g,setTotalCount:Y,price:x,setPrice:$,packageData:s,setRegion:T,region:k});case 1:return t.jsx(ot,{title:r,zip:p,country:u,desc:c,address:l,state:m,city:d,videoFileUrl:v,imageFileName:S,imageFileUrl:j,videoFileName:y,price:x,totalCount:g,region:k});default:throw new Error("Unknown step")}}return t.jsxs(o.Fragment,{children:[t.jsx(rt,{}),t.jsx(tt,{position:"absolute",color:"default",elevation:0,sx:{position:"relative",borderBottom:a=>`1px solid ${a.palette.divider}`}}),t.jsx(et,{component:"main",maxWidth:"lg",sx:{mb:4},children:t.jsxs(st,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[t.jsx(ct,{activeStep:n,sx:{pt:3,pb:5},children:C.map(a=>t.jsx(lt,{children:t.jsx(dt,{children:a})},a))}),n===C.length?t.jsxs(o.Fragment,{children:[t.jsx(P,{variant:"h5",gutterBottom:!0,children:"Your Package Has Been Updated"}),t.jsx(h,{variant:"contained",onClick:()=>b("/admin/managepackages"),sx:{mt:3,ml:1},children:"GoTo Manage Packages"})]}):t.jsxs(o.Fragment,{children:[J(n),t.jsxs(at,{sx:{display:"flex",justifyContent:"flex-end"},children:[t.jsx(P,{style:{color:"red"},variant:"subtitle1",children:q}),n!==0&&t.jsx(h,{onClick:_,sx:{mt:3,ml:1},children:"Back"}),n===C.length-1?t.jsxs(h,{variant:"contained",onClick:()=>{Z(),B()},sx:{mt:3,ml:1},children:[" ","Edit Package"]}):t.jsxs(h,{variant:"contained",onClick:B,sx:{mt:3,ml:1},children:[" ","Next"]})]})]})]})})]})}export{kt as default};
