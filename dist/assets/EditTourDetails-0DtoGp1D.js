import{E as st,x as at,R as n,r as e,j as t,A as ot,C as it,P as nt,w as T,D as g,t as rt,q as ct}from"./index-HM1agdtz.js";import{E as lt}from"./EditPackageForm-DzdxZhyk.js";import{R as dt}from"./Review-kq-kdGMG.js";import{C as ut}from"./CssBaseline-FkVtJlq8.js";import{S as mt,a as pt,b as xt}from"./DeleteForeverOutlined-SFFpJk7X.js";import"./CloudUploadOutlined-LVQmp2gh.js";import"./TextField-5eWDEJxN.js";import"./Select-Z0hCbYUa.js";import"./ListItemText-ig52TPkz.js";import"./capitalize--SaWl2Vs.js";const y=["Tours Details","Review Your Package"];function Dt(){const b=st(),w=at(),s=b.state,[o,F]=n.useState(0),[S,E]=e.useState([]),[j,L]=e.useState([]),[k,N]=e.useState([]),[v,U]=e.useState([]),[r,P]=e.useState(s.title),[c,A]=e.useState(s.description),[C,z]=e.useState(s.region),[l,I]=e.useState(s.address),[d,V]=e.useState(s.city),[D,M]=e.useState(s.isDiscounted),[f,Y]=e.useState(s.Discount),[u,$]=e.useState(s.state),[m,q]=e.useState(s.zip),[p,G]=e.useState(s.country),[x,H]=e.useState(s.totalCount),[h,K]=e.useState(s.price),[W,B]=n.useState(""),[Z,_]=e.useState([]),[J,O]=e.useState([]),R=()=>{S.length==0||r.length==0||c.length==0||l.length==0||d.length==0||u.length==0||m.length==0||p.length==0||x.length==0||h.length==0?B("Kindly Fill All The Fields !!! "):(j.map(a=>{_(i=>[...i,{image:a}])}),v.map(a=>{O(i=>[...i,{video:a}])}),B(""),F(o+1))},Q=()=>{const a={title:r,description:c,address:l,city:d,state:u,zip:m,country:p,images:Z,videos:J,region:C,totalCount:x,price:h,isDiscounted:D,Discount:f,active:!0},i=`https://backend.azeemtourism.com/api/tours/update/${s._id}`;ct.post(i,a).then(et=>{}).catch(et=>{})},X=()=>{F(o-1)};function tt(a){switch(a){case 0:return t.jsx(lt,{title:r,setZip:q,zip:m,country:p,setCountry:G,desc:c,address:l,setState:$,setCity:V,state:u,city:d,setDesc:A,setTitle:P,setAddress:I,setVideoFileUrl:U,videoFileUrl:v,setVideoFileName:N,videoFileName:k,setImageFileName:E,imageFileName:S,setImageFileUrl:L,imageFileUrl:j,totalCount:x,setTotalCount:H,price:h,setPrice:K,packageData:s,setRegion:z,region:C,isDiscounted:D,discount:f,setisDiscounted:M,setDiscount:Y});case 1:return t.jsx(dt,{title:r,zip:m,country:p,desc:c,address:l,state:u,city:d,videoFileUrl:v,videoFileName:k,imageFileName:S,imageFileUrl:j,price:h,totalCount:x,region:C,discount:f});default:throw new Error("Unknown step")}}return t.jsxs(n.Fragment,{children:[t.jsx(ut,{}),t.jsx(ot,{position:"absolute",color:"default",elevation:0,sx:{position:"relative",borderBottom:a=>`1px solid ${a.palette.divider}`}}),t.jsx(it,{component:"main",maxWidth:"lg",sx:{mb:4},children:t.jsxs(nt,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[t.jsx(mt,{activeStep:o,sx:{pt:3,pb:5},children:y.map(a=>t.jsx(pt,{children:t.jsx(xt,{children:a})},a))}),o===y.length?t.jsxs(n.Fragment,{children:[t.jsx(T,{variant:"h5",gutterBottom:!0,children:"Your Package Has Been Updated"}),t.jsx(g,{variant:"contained",onClick:()=>w("/admin/managetours"),sx:{mt:3,ml:1},children:"GoTo Manage Tours"})]}):t.jsxs(n.Fragment,{children:[tt(o),t.jsxs(rt,{sx:{display:"flex",justifyContent:"flex-end"},children:[t.jsx(T,{style:{color:"red"},variant:"subtitle1",children:W}),o!==0&&t.jsx(g,{onClick:X,sx:{mt:3,ml:1},children:"Back"}),o===y.length-1?t.jsxs(g,{variant:"contained",onClick:()=>{Q(),R()},sx:{mt:3,ml:1},children:[" ","Edit Tour"]}):t.jsxs(g,{variant:"contained",onClick:R,sx:{mt:3,ml:1},children:[" ","Next"]})]})]})]})})]})}export{Dt as default};
