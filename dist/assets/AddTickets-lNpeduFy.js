import{R as l,r as s,j as e,A as R,C as z,P as oe,w as f,t as D,D as k,q as ce,x as le,T as b,I as T,y as de,z as pe,s as P}from"./index-HM1agdtz.js";import{d as xe,a as ue,D as me,M as he,A as ge,b as je}from"./ExitToApp-POo81fz3.js";import{A as Se}from"./AddressForm-jUUSsjFT.js";import{R as fe}from"./Review-kq-kdGMG.js";import{C as U}from"./CssBaseline-FkVtJlq8.js";import{S as ve,a as we,b as ye}from"./DeleteForeverOutlined-SFFpJk7X.js";import{T as Ce,L as ke}from"./VisibilityOff-y18L3EaN.js";import"./ListItemText-ig52TPkz.js";import"./capitalize--SaWl2Vs.js";import"./TextField-5eWDEJxN.js";import"./Select-Z0hCbYUa.js";const F=["Ticket Details","Review Your Ticket"];function be(){const[t,i]=l.useState(0),[a,v]=s.useState([]),[r,o]=s.useState([]),[I,M]=s.useState([]),[w,W]=s.useState([]),[d,$]=s.useState(""),[B,E]=s.useState(!1),[y,V]=s.useState(0),[p,Y]=s.useState(""),[x,_]=s.useState(""),[u,G]=s.useState(""),[m,H]=s.useState(""),[h,O]=s.useState(0),[C,q]=s.useState("Both"),[g,J]=s.useState(""),[j,K]=s.useState(0),[S,X]=s.useState(0),[Z,L]=l.useState(""),[Q,ee]=s.useState([]),[te,se]=s.useState([]),N=()=>{a.length==0||d.length==0||p.length==0||x.length==0||u.length==0||m.length==0||h.length==0||g.length==0||j.length==0||S.length==0?L("Kindly Fill All The Fields !!! "):(r.map(n=>{ee(c=>[...c,{image:n}])}),w.map(n=>{se(c=>[...c,{video:n}])}),L(""),i(t+1))},ne=()=>{const n={title:d,description:p,address:x,city:u,state:m,zip:h,country:g,images:Q,videos:te,totalCount:j,price:S,region:C,isDiscounted:B,Discount:y,active:!0},c="https://backend.azeemtourism.com/api/tickets/create";ce.post(c,n).then(re=>{}).catch(re=>{})},ie=()=>{i(t-1)};function ae(n){switch(n){case 0:return e.jsx(Se,{title:d,setZip:O,zip:h,country:g,setCountry:J,desc:p,address:x,setState:H,setCity:G,state:m,city:u,setDesc:Y,setTitle:$,setAddress:_,setVideoFileUrl:W,videoFileUrl:w,setVideoFileName:M,videoFileName:I,setImageFileName:v,imageFileName:a,setImageFileUrl:o,imageFileUrl:r,totalCount:j,setTotalCount:K,price:S,setPrice:X,setRegion:q,region:C,isDiscounted:B,discount:y,setisDiscounted:E,setDiscount:V});case 1:return e.jsx(fe,{title:d,zip:h,country:g,desc:p,address:x,state:m,city:u,videoFileUrl:w,imageFileName:a,imageFileUrl:r,videoFileName:I,price:S,region:C,totalCount:j,discount:y});default:throw new Error("Unknown step")}}return e.jsxs(l.Fragment,{children:[e.jsx(U,{}),e.jsx(R,{position:"absolute",color:"default",elevation:0,sx:{position:"relative",borderBottom:n=>`1px solid ${n.palette.divider}`}}),e.jsx(z,{component:"main",maxWidth:"sm",sx:{mb:4},children:e.jsxs(oe,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[e.jsx(ve,{activeStep:t,sx:{pt:3,pb:5},children:F.map(n=>e.jsx(we,{children:e.jsx(ye,{children:n})},n))}),t===F.length?e.jsx(l.Fragment,{children:e.jsx(f,{variant:"h5",gutterBottom:!0,children:"Your Ticket Has Been Created"})}):e.jsxs(l.Fragment,{children:[ae(t),e.jsxs(D,{sx:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(f,{style:{color:"red"},variant:"subtitle1",children:Z}),t!==0&&e.jsx(k,{onClick:ie,sx:{mt:3,ml:1},children:"Back"}),t===F.length-1?e.jsxs(k,{variant:"contained",onClick:()=>{ne(),N()},sx:{mt:3,ml:1},children:[" ","Create Ticket"]}):e.jsxs(k,{variant:"contained",onClick:N,sx:{mt:3,ml:1},children:[" ","Next"]})]})]})]})})]})}const Te=pe({palette:{primary:{main:"#27272a",contrastText:"#fff"}}});function Fe(t){return e.jsxs(f,{variant:"body2",color:"text.secondary",align:"center",...t,children:["Copyright Â© ",e.jsx(ke,{color:"inherit",children:"Azeem Tourism"})," ",new Date().getFullYear(),"."]})}const A=240,De=P(R,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:i})=>({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...i&&{marginLeft:A,width:`calc(100% - ${A}px)`,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}})),Ae=P(je,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:i})=>({"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:A,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box",...!i&&{overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7),[t.breakpoints.up("sm")]:{width:t.spacing(9)}}}}));function Ee(){const[t,i]=s.useState(!0),a=()=>{i(!t)},v=le();var r=JSON.parse(localStorage.getItem("user"));return e.jsx(Ce,{theme:Te,children:e.jsxs(D,{sx:{display:"flex"},children:[e.jsx(U,{}),e.jsx(De,{position:"absolute",open:t,children:e.jsxs(b,{sx:{pr:"24px"},children:[e.jsx(T,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:a,sx:{marginRight:"36px",...t&&{display:"none"}},children:e.jsx(de,{})}),e.jsx(f,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:"Admin Dashboard"}),"Welcome ",r.firstName,e.jsx(T,{color:"inherit",onClick:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),v("/"),window.location.reload()},children:e.jsx(xe,{})})]})}),e.jsxs(Ae,{variant:"permanent",open:t,children:[e.jsx(b,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:e.jsx(T,{onClick:a,children:e.jsx(ue,{})})}),e.jsx(me,{}),e.jsx(he,{})]}),e.jsxs(D,{component:"main",sx:{backgroundColor:o=>o.palette.mode==="light"?o.palette.grey[100]:o.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto"},children:[e.jsx(b,{}),e.jsx(ge,{title:"Add Packages"}),e.jsx(be,{}),e.jsx(z,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsx(Fe,{sx:{pt:4}})})]})]})})}export{Ee as default};
