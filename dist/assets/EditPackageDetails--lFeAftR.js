import{D as st,w as at,R as o,r as e,j as t,A as it,C as nt,P as ot,v as R,z as h,t as ct,q as rt}from"./index-Qm37-hOS.js";import{E as lt}from"./EditPackageForm-5J3VY-8m.js";import{R as dt}from"./Review-Ie-uOGcc.js";import{C as ut}from"./CssBaseline-bzgSFrbW.js";import{S as pt,a as mt,b as gt}from"./DeleteForeverOutlined-cWaaWKxW.js";import"./CloudUploadOutlined-B19grNi_.js";import"./TextField-STLcwblj.js";import"./Select-Vky3JIPX.js";import"./ListItemText-7Ghp6EMP.js";import"./capitalize-5rU_-DoW.js";const f=["Package Details","Review Your Package"];function Dt(){const w=st(),L=at(),s=w.state,[i,y]=o.useState(0),[S,N]=e.useState([]),[j,U]=e.useState([]),[F,b]=e.useState([]),[v,E]=e.useState([]),[c,A]=e.useState(s.title),[r,T]=e.useState(s.description),[k,z]=e.useState(s.region),[l,I]=e.useState(s.address),[d,V]=e.useState(s.city),[u,M]=e.useState(s.state),[p,Y]=e.useState(s.zip),[m,$]=e.useState(s.country),[D,q]=e.useState(s.isDiscounted),[C,G]=e.useState(s.Discount),[g,H]=e.useState(s.totalCount),[x,K]=e.useState(s.price),[W,B]=o.useState(""),[Z,_]=e.useState([]),[J,O]=e.useState([]),P=()=>{S.length==0||c.length==0||r.length==0||l.length==0||d.length==0||u.length==0||p.length==0||m.length==0||g.length==0||x.length==0?B("Kindly Fill All The Fields !!! "):(j.map(a=>{_(n=>[...n,{image:a}])}),v.map(a=>{O(n=>[...n,{video:a}])}),B(""),y(i+1))},Q=()=>{const a={title:c,description:r,address:l,city:d,state:u,zip:p,country:m,images:Z,videos:J,totalCount:g,region:k,price:x,isDiscounted:D,Discount:C,active:!0},n=`http://localhost:8080/api/packages/update/${s._id}`;rt.post(n,a).then(et=>{}).catch(et=>{})},X=()=>{y(i-1)};function tt(a){switch(a){case 0:return t.jsx(lt,{title:c,setZip:Y,zip:p,country:m,setCountry:$,desc:r,address:l,setState:M,setCity:V,state:u,city:d,setDesc:T,setTitle:A,setAddress:I,setVideoFileUrl:E,videoFileUrl:v,setImageFileName:N,imageFileName:S,setImageFileUrl:U,imageFileUrl:j,setVideoFileName:b,videoFileName:F,totalCount:g,setTotalCount:H,price:x,setPrice:K,packageData:s,setRegion:z,region:k,isDiscounted:D,discount:C,setisDiscounted:q,setDiscount:G});case 1:return t.jsx(dt,{title:c,zip:p,country:m,desc:r,address:l,state:u,city:d,videoFileUrl:v,imageFileName:S,imageFileUrl:j,videoFileName:F,price:x,totalCount:g,region:k,discount:C});default:throw new Error("Unknown step")}}return t.jsxs(o.Fragment,{children:[t.jsx(ut,{}),t.jsx(it,{position:"absolute",color:"default",elevation:0,sx:{position:"relative",borderBottom:a=>`1px solid ${a.palette.divider}`}}),t.jsx(nt,{component:"main",maxWidth:"lg",sx:{mb:4},children:t.jsxs(ot,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[t.jsx(pt,{activeStep:i,sx:{pt:3,pb:5},children:f.map(a=>t.jsx(mt,{children:t.jsx(gt,{children:a})},a))}),i===f.length?t.jsxs(o.Fragment,{children:[t.jsx(R,{variant:"h5",gutterBottom:!0,children:"Your Package Has Been Updated"}),t.jsx(h,{variant:"contained",onClick:()=>L("/admin/managepackages"),sx:{mt:3,ml:1},children:"GoTo Manage Packages"})]}):t.jsxs(o.Fragment,{children:[tt(i),t.jsxs(ct,{sx:{display:"flex",justifyContent:"flex-end"},children:[t.jsx(R,{style:{color:"red"},variant:"subtitle1",children:W}),i!==0&&t.jsx(h,{onClick:X,sx:{mt:3,ml:1},children:"Back"}),i===f.length-1?t.jsxs(h,{variant:"contained",onClick:()=>{Q(),P()},sx:{mt:3,ml:1},children:[" ","Edit Package"]}):t.jsxs(h,{variant:"contained",onClick:P,sx:{mt:3,ml:1},children:[" ","Next"]})]})]})]})})]})}export{Dt as default};
