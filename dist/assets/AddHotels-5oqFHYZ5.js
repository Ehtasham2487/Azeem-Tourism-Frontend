import{j as e,R as g,I as y,z as T,M as E,r as n,A as Q,C as ee,P as ce,v as D,t as V,q as de,w as ue,T as q,x as xe,y as he,s as te}from"./index-Qm37-hOS.js";import{d as pe,a as me,D as ge,M as je,A as ve,b as fe}from"./ExitToApp-lAv1ZvSx.js";import{d as Se,c as Ce,I as we,S as ye,a as be,b as ke}from"./DeleteForeverOutlined-cWaaWKxW.js";import{G as o,S as Ie,T as w}from"./TextField-STLcwblj.js";import{S as Te}from"./Select-Vky3JIPX.js";import{H as De}from"./ReviewHotels-vTOJ_JeK.js";import{C as se}from"./CssBaseline-bzgSFrbW.js";import{T as Fe,L as Ae}from"./VisibilityOff-HjpOYbqA.js";import"./ListItemText-7Ghp6EMP.js";import"./capitalize-5rU_-DoW.js";function Be({title:t,setZip:r,zip:c,country:b,setCountry:x,desc:d,address:F,setState:O,setCity:A,state:Z,city:j,setDesc:B,setTitle:k,setAddress:L,setImageFileName:h,imageFileName:v,setImageFileUrl:u,imageFileUrl:f,totalCount:S,setTotalCount:J,price:N,setPrice:R,setRegion:W,region:H,isDiscounted:I,discount:P,setisDiscounted:U,setDiscount:z}){const M=s=>{W(s.target.value)},_=()=>{U(!I)},p=()=>{window.cloudinary.createUploadWidget({cloudName:"dhhjr3vim",uploadPreset:"nnitbvl3"},(l,i)=>{console.log("rs",i),!l&&i&&i.event==="success"&&(console.log("ue"),h(m=>[...m,i.info.original_filename]),u(m=>[...m,i.info.url]))}).open()},$=(s,l)=>{h(v.filter(i=>i!==s)),u(f.filter(i=>i!==l))};return e.jsx(g.Fragment,{children:e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(e.Fragment,{children:e.jsx(o,{item:!0,xs:12,sm:12,children:e.jsx(Ie,{direction:"row",alignItems:"center",spacing:2,children:e.jsxs("label",{htmlFor:"icon-button-file",children:[e.jsx(y,{onClick:()=>{p()},color:"primary","aria-label":"upload picture",component:"span",children:e.jsx(T,{style:{width:"350px"},variant:"contained",sx:{p:1,bg:"#27272a"},endIcon:e.jsx(Se,{}),children:"Upload Images"})}),v.map((s,l)=>v?e.jsxs("div",{className:"flex justify-between ",children:[e.jsx("a",{className:"text-black",target:"_blank",href:f[l],rel:"noreferrer",children:e.jsxs("p",{children:["Uploaded Images: ",s]})}),e.jsx("div",{style:{marginTop:"-8px"},children:e.jsx(y,{className:"text-rose-600",onClick:()=>{$(s,f[l])},children:e.jsx(Ce,{style:{color:"red"}})})})]}):null)]})})})}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsx(w,{required:!0,multiline:!0,id:"title",name:"title",label:"Name",fullWidth:!0,autoComplete:"title",variant:"standard",value:t,onChange:s=>{k(s.target.value)}})}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsx(w,{required:!0,multiline:!0,id:"description",name:"description",label:"Description",fullWidth:!0,autoComplete:"description",variant:"standard",value:d,onChange:s=>{B(s.target.value)}})}),e.jsx(o,{item:!0,xs:12,children:e.jsx(w,{required:!0,multiline:!0,id:"address",name:"address",label:"Location",fullWidth:!0,autoComplete:"shipping address-line1",variant:"standard",value:F,onChange:s=>{L(s.target.value)}})}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsx(w,{required:!0,multiline:!0,id:"price",name:"price",label:"Price",fullWidth:!0,autoComplete:"price",variant:"standard",value:N,onChange:s=>{R(s.target.value)}})}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:I,onChange:_,style:{marginRight:"3%"}}),"Is Discounted"]})}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsx(w,{multiline:!0,id:"discount ",name:"discount ",label:"Discount Percentage",fullWidth:!0,variant:"standard",value:P,onChange:s=>{z(s.target.value)}})}),e.jsxs(o,{item:!0,xs:12,sm:6,children:[e.jsx(we,{id:"region-select-label",children:"Region"}),e.jsxs(Te,{value:H,onChange:M,displayEmpty:!0,fullWidth:!0,sx:{height:30},children:[e.jsx(E,{sx:{height:30},value:"Both",children:e.jsx("em",{children:"None"})}),e.jsx(E,{sx:{height:30},value:"Pakistan",children:"Pakistan"}),e.jsx(E,{sx:{height:30},value:"UAE",children:"UAE"})]})]})]})})}const G=["Hotel Details","Review Your Hotel"];function Le(){const[t,r]=g.useState(0),[c,b]=n.useState([]),[x,d]=n.useState([]),[F,O]=n.useState([]),[A,Z]=n.useState([]),[j,B]=n.useState(""),[k,L]=n.useState(!1),[h,v]=n.useState(0),[u,f]=n.useState(""),[S,J]=n.useState(""),[N,R]=n.useState(""),[W,H]=n.useState(""),[I,P]=n.useState(0),[U,z]=n.useState(""),[M,_]=n.useState(0),[p,$]=n.useState(0),[s,l]=n.useState("Both"),[i,m]=g.useState(""),[ne,ae]=n.useState([]),[Pe,ie]=n.useState([]),K=()=>{c.length==0||j.length==0||u.length==0||S.length==0||p.length==0?m("Kindly Fill All The Fields !!! "):(x.map(a=>{ae(C=>[...C,{image:a}])}),A.map(a=>{ie(C=>[...C,{video:a}])}),m(""),r(t+1))},re=()=>{const a={name:j,description:u,location:S,images:ne,price:p,region:s,isDiscounted:k,Discount:h,active:!0},C="http://localhost:8080/api/hotels/create";de.post(C,a).then(X=>{console.log(X.data)}).catch(X=>{})},oe=()=>{r(t-1)};function le(a){switch(a){case 0:return e.jsx(Be,{title:j,setZip:P,zip:I,country:U,setCountry:z,desc:u,address:S,setState:H,setCity:R,state:W,city:N,setDesc:f,setTitle:B,setAddress:J,setVideoFileUrl:Z,setVideoFileName:O,videoFileName:F,videoFileUrl:A,setImageFileName:b,imageFileName:c,setImageFileUrl:d,imageFileUrl:x,totalCount:M,setTotalCount:_,price:p,setPrice:$,setRegion:l,region:s,isDiscounted:k,discount:h,setisDiscounted:L,setDiscount:v});case 1:return e.jsx(De,{title:j,desc:u,address:S,imageFileName:c,imageFileUrl:x,price:p,region:s,discount:h});default:throw new Error("Unknown step")}}return e.jsxs(g.Fragment,{children:[e.jsx(se,{}),e.jsx(Q,{position:"absolute",color:"default",elevation:0,sx:{position:"relative",borderBottom:a=>`1px solid ${a.palette.divider}`}}),e.jsx(ee,{component:"main",maxWidth:"sm",sx:{mb:4},children:e.jsxs(ce,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[e.jsx(ye,{activeStep:t,sx:{pt:3,pb:5},children:G.map(a=>e.jsx(be,{children:e.jsx(ke,{children:a})},a))}),t===G.length?e.jsx(g.Fragment,{children:e.jsx(D,{variant:"h5",gutterBottom:!0,children:"Your Hotel Has Been Created"})}):e.jsxs(g.Fragment,{children:[le(t),e.jsxs(V,{sx:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(D,{style:{color:"red"},variant:"subtitle1",children:i}),t!==0&&e.jsx(T,{onClick:oe,sx:{mt:3,ml:1},children:"Back"}),t===G.length-1?e.jsxs(T,{variant:"contained",onClick:()=>{re(),K()},sx:{mt:3,ml:1},children:[" ","Create Hotel"]}):e.jsxs(T,{variant:"contained",onClick:K,sx:{mt:3,ml:1},children:[" ","Next"]})]})]})]})})]})}const Ne=he({palette:{primary:{main:"#27272a",contrastText:"#fff"}}});function Re(t){return e.jsxs(D,{variant:"body2",color:"text.secondary",align:"center",...t,children:["Copyright Â© ",e.jsx(Ae,{color:"inherit",children:"Azeem Tourism"})," ",new Date().getFullYear(),"."]})}const Y=240,We=te(Q,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:r})=>({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...r&&{marginLeft:Y,width:`calc(100% - ${Y}px)`,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}})),He=te(fe,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:r})=>({"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:Y,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box",...!r&&{overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7),[t.breakpoints.up("sm")]:{width:t.spacing(9)}}}}));function Oe(){const[t,r]=n.useState(!0),c=()=>{r(!t)},b=ue();var x=JSON.parse(localStorage.getItem("user"));return e.jsx(Fe,{theme:Ne,children:e.jsxs(V,{sx:{display:"flex"},children:[e.jsx(se,{}),e.jsx(We,{position:"absolute",open:t,children:e.jsxs(q,{sx:{pr:"24px"},children:[e.jsx(y,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:c,sx:{marginRight:"36px",...t&&{display:"none"}},children:e.jsx(xe,{})}),e.jsx(D,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:"Admin Dashboard"}),"Welcome ",x.firstName,e.jsx(y,{color:"inherit",onClick:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),b("/"),window.location.reload()},children:e.jsx(pe,{})})]})}),e.jsxs(He,{variant:"permanent",open:t,children:[e.jsx(q,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:e.jsx(y,{onClick:c,children:e.jsx(me,{})})}),e.jsx(ge,{}),e.jsx(je,{})]}),e.jsxs(V,{component:"main",sx:{backgroundColor:d=>d.palette.mode==="light"?d.palette.grey[100]:d.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto"},children:[e.jsx(q,{}),e.jsx(ve,{title:"Add Hotels"}),e.jsx(Le,{}),e.jsx(ee,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsx(Re,{sx:{pt:4}})})]})]})})}export{Oe as default};
