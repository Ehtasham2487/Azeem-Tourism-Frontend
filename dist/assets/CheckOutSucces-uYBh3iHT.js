import{r as m,w as h,j as a,z as g,q as c}from"./index-Qm37-hOS.js";import{s as f}from"./styled-components.browser.esm-27Qsjwnj.js";import"./Tooltip-RdJNKoi-.js";import{C as k}from"./Card-rp43y1kq.js";const C=()=>{const[y,s]=m.useState(null),n=h(),t=JSON.parse(localStorage.getItem("orderDetails")),p=()=>{const r={orderType:t.orderType,objectService:t.packageObject._id,fullName:t.fullname,tourName:t.orderType=="hotel"?t.packageObject.name:t.packageObject.title,tourDate:t.dateoftour,email:t.email,phone:t.phone,totalPersons:t.totalpersons,pickupTime:t.pickuptime,pickupLocation:t.pickuplocation,stripeSessionId:t.stripeSessionId,payment:t.totalprice};s(r);const o="http://localhost:8080/api/orders/create";c.post(o,r).then(e=>{const l={orderNo:e.data._id,orderType:e.data.orderType,objectService:e.data.objectService,fullName:e.data.fullName,tourName:e.data.tourName,tourDate:e.data.tourDate,email:e.data.email,phone:e.data.phone,totalPersons:e.data.totalPersons,pickupTime:e.data.pickupTime,pickupLocation:e.data.pickupLocation,stripeSessionId:e.data.stripeSessionId,payment:e.data.payment};s(l);const u=`http://localhost:8080/api/orders/mail/${e.data.email}`;c.post(u).then(i=>{console.log(i.data)}).catch(i=>{console.error(i)}),d(),n("/invoice",{state:{data:l}})}).catch(e=>{console.error(e)})},d=()=>{const r={totalCount:t.packageObject.totalCount-t.totalpersons};let o="";t.orderType==="package"?o=`http://localhost:8080/api/packages/update/${t.packageObject._id}`:t.orderType==="ticket"?o=`http://localhost:8080/api/tickets/update/${t.packageObject._id}`:t.orderType==="tour"?o=`http://localhost:8080/api/tours/update/${t.packageObject._id}`:t.orderType==="hotel"?o=`http://localhost:8080/api/hotels/update/${t.packageObject._id}`:t.orderType==="visa"&&(o=`http://localhost:8080/api/visas/update/${t.packageObject._id}`),c.post(o,r).then(e=>{}).catch(e=>{})};return a.jsx(j,{children:a.jsxs(k,{className:"transform shadow-lg rounded-lg lg:w-96 border-2 font-inter h-auto justify-center",style:{boxShadow:46},children:[a.jsx("h5",{className:"text-center font-semibold",children:"Checkout Successful"}),a.jsxs("p",{className:"text-lg text-justify ",children:["Thank you for choosing Azeem Tourism! ðŸŒŸ Your order might take some time to process. In case of any inquiries, contact the support at"," ",a.jsx("a",{href:"mailto:azeemtourism@gmail.com",className:"text-primary-600 font-normal",children:a.jsx("strong",{children:"support"})})," ","Or you can ðŸ“ž WhatsApp us on"," ",a.jsx("a",{href:"https://api.whatsapp.com/send?phone=971522760013",className:"text-primary-600 font-normal",children:a.jsx("strong",{children:"+97152760013"})}),"."]}),a.jsx("p",{children:a.jsx("strong",{children:"Please Make Sure to Click on Confirm Order Else We will not receive our order (yet your payment is done)"})}),a.jsx(g,{onClick:()=>{p()},sx:{fontFamily:"Inter",backgroundColor:"#7ec7b3",color:"black",borderRadius:"lg",fontSize:"lg",p:1.2,transition:"all 0.3s ease-in-out","&:hover":{backgroundColor:"#00A3E0",color:"white"}},children:"Confirm Order"})]})})},j=f.div`
  min-height: 80vh;
  max-width: 850px;
  width: 100%;
  margin: auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

  h2 {
    margin-bottom: 0.5rem;
    color: #029e02;
  }
`;export{C as default};
